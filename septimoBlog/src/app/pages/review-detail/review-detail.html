@if (detail(); as movie) {
  <section class="movie-container">
    <div class="movie-left">
      <img [src]="movie.poster" [alt]="movie.title" class="poster" />
      <div class="rating">
        <span class="star-icon">★</span>
        <div class="score">
          <div class="value">{{ movie.ratingValue }}</div>
          <div class="votes">{{ movie.ratingVotes }}</div>
        </div>
      </div>
      <div class="details">
        <p><strong>Director:</strong> {{ movie.director }}</p>
        <p><strong>Escritor:</strong> {{ movie.writer }}</p>
        <p><strong>Estrellas:</strong> {{ movie.stars }}</p>
        <p><strong>Género:</strong> {{ movie.genre }}</p>
      </div>
    </div>

    <div class="movie-right">
      <h1 class="movie-title">{{ movie.title }}</h1>
      <h2 class="movie-year">{{ movie.year }}</h2>
      <p class="synopsis">
        {{ movie.synopsis }}
      </p>

      <div class="reviews-list">
        @for (review of movie.reviews; track review.user + review.date) {
          <article class="review">
            <div class="review-date">{{ review.date }}</div>
            <h3>{{ review.user }}</h3>
            <p>{{ review.comment }}</p>
            <div class="rating-review">
              <span class="star-icon">★</span>
              <span class="rating-score">{{ review.score }}</span>
            </div>
          </article>
        }
      </div>

      <button class="botonResenar" type="button" (click)="toggleForm()">
        {{ showForm() ? 'Cerrar formulario' : 'Añadir reseña' }}
      </button>

      @if (showForm()) {
        <form class="review-form">
          <input type="number" step="0.1" min="0" max="10" placeholder="CALIFICACIÓN (0.0 - 10.0)" />
          <textarea placeholder="RESEÑA"></textarea>
          <div class="button-container">
            <button class="btn btn-submit" type="button">ENVIAR</button>
            <button class="btn btn-cancel" type="button" (click)="toggleForm()">CANCELAR</button>
          </div>
        </form>
      }
    </div>
  </section>
} @else {
  <section class="movie-container empty">
    <p>Reseña no disponible.</p>
  </section>
}
